<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.4">
<title data-react-helmet="true">Threshold Profile | Argo Monitoring</title><meta data-react-helmet="true" property="og:url" content="https://argoeu.github.io/argo-monitoring/docs/Profiles/thresholds-profile"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Threshold Profile | Argo Monitoring"><meta data-react-helmet="true" name="description" content="Description"><meta data-react-helmet="true" property="og:description" content="Description"><link data-react-helmet="true" rel="shortcut icon" href="/argo-monitoring/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://argoeu.github.io/argo-monitoring/docs/Profiles/thresholds-profile"><link data-react-helmet="true" rel="alternate" href="https://argoeu.github.io/argo-monitoring/docs/Profiles/thresholds-profile" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://argoeu.github.io/argo-monitoring/docs/Profiles/thresholds-profile" hreflang="x-default"><link rel="stylesheet" href="/argo-monitoring/assets/css/styles.b121cd8c.css">
<link rel="preload" href="/argo-monitoring/assets/js/runtime~main.b3fb34e0.js" as="script">
<link rel="preload" href="/argo-monitoring/assets/js/main.129cc5ff.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/argo-monitoring/"><img src="/argo-monitoring/img/argo.png" alt="Argo Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/argo-monitoring/img/argo.png" alt="Argo Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">Argo Monitoring</b></a><a class="navbar__item navbar__link navbar__link--active" href="/argo-monitoring/docs/intro">Documentation</a></div><div class="navbar__items navbar__items--right"><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button" title="Scroll to top"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/argo-monitoring/docs/intro">Introduction</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Profiles</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/argo-monitoring/docs/Profiles/profiles">Profiles</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/argo-monitoring/docs/Profiles/operations-profile">Operations Profile</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/argo-monitoring/docs/Profiles/aggregation-profile">Aggregation Profile</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/argo-monitoring/docs/Profiles/thresholds-profile">Threshold Profile</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">reports</a></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="markdown"><header><h1 class="h1Heading_27L5">Threshold Profile</h1></header><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="description"></a>Description<a class="hash-link" href="#description" title="Direct link to heading">#</a></h2><p>The ARGO Monitoring Service is generating Status and A/R reports based on the metric results that it gathers from the execution of the monitoring probes. Each metric result includes a status and performance data that typically contain values related to the provided status. Currently the ARGO Monitoring Service relies solely on the statuses returned by the probes in order to generate the Status and A/R reports. </p><p>Each probe has a hard-coded built-in static logic in order to compute the probe status. Although this have been proven sufficient for the purposes of infrastructure monitoring up to now, it does not give us any flexibility in providing different 	SLA targets customers. </p><p><strong>For example,</strong> letâ€™s say that a probe check the average response time of the tickets in helpdesk system.
<em>With the current implementation</em>, the acceptable response time is part of the probe configuration.
If we want to have <em>different acceptable response time for a specific customer</em>, then we will have to create a new probe configuration and execute a new test. </p><p>So in order to have <strong>different acceptable response time for each customer</strong> , we have to easily define these hardcoded values and use them as parameters. So actually we have to  move the metric status computation to something more dynamic like the ARGO analytics engine. So the monitoring probes executed will return the actual data (e.g. the average response time) and then on the ARGO Analytics Engine we can have use multiple threshold profiles, which will be used in order to generate reports based on the customer needs.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="example"></a>Example<a class="hash-link" href="#example" title="Direct link to heading">#</a></h2><p>Let&#x27;s take the check_ping as an example which returns the packet loss and lets assume that it has been enhanced to return average round trip time as a response. Sample output from the metric check might look like this:</p><p>PING ok - Packet loss = 0%,  response=0.80 | response=20ms;0;300;299;1000</p><p>This is the default result of the metric. </p><p>In our example we have 2 hosts</p><ul><li>webserver01.example.com</li><li>webserver02.example.com</li></ul><p>The SLA defines a different response times for each of them. In order to achieve that we have to define 2 different thresholds one for each host.</p><p>The way to define the thresholds follow the following format. </p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">&#x27;label&#x27;=value[UOM];[warn];[crit];[min];[max]</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>where</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">label : can contain alphanumeric characters but must always begin with a letter</span></span><span class="token-line" style="color:#393A34"><span class="token plain">value : is a float or integer</span></span><span class="token-line" style="color:#393A34"><span class="token plain">uom : is a string unit of measurement (accepted values: s,us,ms,B,KB,MB,TB,%,c)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">warning: is a range defining the warning threshold limits</span></span><span class="token-line" style="color:#393A34"><span class="token plain">critical: is a range defining the critical threshold limits</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>So based on the SLA we define the following 2 thresholds </p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">host: webserver01.example.com</span></span><span class="token-line" style="color:#393A34"><span class="token plain">thresholds: response=20ms;0:200;199:300</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">host: webserver02.example.com</span></span><span class="token-line" style="color:#393A34"><span class="token plain">thresholds: response=20ms;0:500;499:1000</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>BY using the threshold profiles, we managed to have different  Warning and Critical limits for webserver01.example.com and webserver02.example.com and we support them for their SLA. </p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="technical-part"></a>Technical part<a class="hash-link" href="#technical-part" title="Direct link to heading">#</a></h3><p>The connection of the Threshold profiles with the other components of ARGO </p><p>They are:</p><ul><li>defined in POEM </li><li>stored in ARGO Web API </li><li>part of a report and the correlation is also configured in POEM  </li><li>Used for the computations in the Analytics Engine </li><li>Presented in the ARGO Web UI.</li></ul></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/argo-monitoring/docs/Profiles/aggregation-profile"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Aggregation Profile</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/argo-monitoring/docs/reports/reports"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Reports Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#description" class="table-of-contents__link">Description</a></li><li><a href="#example" class="table-of-contents__link">Example</a><ul><li><a href="#technical-part" class="table-of-contents__link">Technical part</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/argo-monitoring/docs/intro">Documentation</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 ARGO.</div></div></div></footer></div>
<script src="/argo-monitoring/assets/js/runtime~main.b3fb34e0.js"></script>
<script src="/argo-monitoring/assets/js/main.129cc5ff.js"></script>
</body>
</html>